const a65_0x525075=a65_0x27de;(function(_0x2549db,_0x5b5dfd){const _0x78486=a65_0x27de,_0x369579=_0x2549db();while(!![]){try{const _0x3d4f72=parseInt(_0x78486(0xbb))/0x1+parseInt(_0x78486(0xb5))/0x2+parseInt(_0x78486(0xa8))/0x3+-parseInt(_0x78486(0x9b))/0x4*(parseInt(_0x78486(0xae))/0x5)+-parseInt(_0x78486(0xb1))/0x6*(parseInt(_0x78486(0xc0))/0x7)+-parseInt(_0x78486(0xc9))/0x8+-parseInt(_0x78486(0xc6))/0x9*(parseInt(_0x78486(0xa1))/0xa);if(_0x3d4f72===_0x5b5dfd)break;else _0x369579['push'](_0x369579['shift']());}catch(_0x41c540){_0x369579['push'](_0x369579['shift']());}}}(a65_0x4b74,0xbb581));function a65_0x4b74(){const _0x4581e1=['nhfZAvrzzG','sLn0DwC','rgHzy0q','C2vUze1LC3nHz2u','ywrKq3jVBG','AgvZtKS','mteWuxzUvg1t','tM8Gy3jVBIbOyxmGyMvLBIbHy3rPDMf0zwqGzM9YihrOAxmGDgLTzq','y3jVBLrHC2S','wuDXv0i','veLnrv9At05f','BwfW','Aw5PDgLHDgvdCM9U','mJqXmJa0mKDqB3nqzq','sxqNCYb0Aw1LihrVig9Wzw4GDgHLigrVB3jZig9Mig91CIbNCM91CceGv2vSy29TzsbLDMvYEw9Uzsb0BYb0AgLZigv4y2L0Aw5NignVBw11BML0Esb3AgvYzsb3zsbZAgfYzsbHBMqGBgvHCM4GDg9NzxrOzxiU','y29UC3rYDwn0B3i','C2vHCMnO','lI4VlI4VyMrKl2nYB24','CuncAMS','mZeWnZa0nxfLq05bsa','Bg9N','C3bSAxq','mtjWwLD2BwS','BgvUz3rO','C3rYAw5N','Bxv0zq','mJK4mZG4mgXuEw5JzW','C2nOzwr1Bgu','Dw5TDxrL','C3rVCa','kcGOlISPkYKRksSK','ywn0Aw9U','nty0ntu2D09Qtufq','Dg9tDhjPBMC','uvLJu3C','BM9Kzs1JCM9U','sw5PDgLHBgLZyxrPB24GzgvZignYB25ZihbVDxiGBguGyM90idOG','mty1nZq1m25pD2DmzW','BeDjs2y','B3HNwwO','yM90swq','ChvZAa','z3jVDxbtzxr0Aw5NvxbKyxrL','mtC1odyWrKDNB25u','icOGkIaQ','zM9YrwfJAa','nJi2ntKZnLH6CM5rrW','z2v0q3jVBG','vw5bDxrVCMLZzwq'];a65_0x4b74=function(){return _0x4581e1;};return a65_0x4b74();}function a65_0x27de(_0x2249cf,_0x4e3644){const _0x16dd05=a65_0x4b74();return a65_0x27de=function(_0x25e7c4,_0x2b422c){_0x25e7c4=_0x25e7c4-0x9a;let _0x4b74f4=_0x16dd05[_0x25e7c4];if(a65_0x27de['pVVqTS']===undefined){var _0x27de1e=function(_0x1e3fbc){const _0x49469f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xb671e8='',_0x5b6941='',_0x5ea3c3=_0xb671e8+_0x27de1e;for(let _0x28f77f=0x0,_0x4ced8c,_0x297f4d,_0x2dc4a0=0x0;_0x297f4d=_0x1e3fbc['charAt'](_0x2dc4a0++);~_0x297f4d&&(_0x4ced8c=_0x28f77f%0x4?_0x4ced8c*0x40+_0x297f4d:_0x297f4d,_0x28f77f++%0x4)?_0xb671e8+=_0x5ea3c3['charCodeAt'](_0x2dc4a0+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4ced8c>>(-0x2*_0x28f77f&0x6)):_0x28f77f:0x0){_0x297f4d=_0x49469f['indexOf'](_0x297f4d);}for(let _0x2afa19=0x0,_0x3462bf=_0xb671e8['length'];_0x2afa19<_0x3462bf;_0x2afa19++){_0x5b6941+='%'+('00'+_0xb671e8['charCodeAt'](_0x2afa19)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5b6941);};a65_0x27de['aqWTPG']=_0x27de1e,_0x2249cf=arguments,a65_0x27de['pVVqTS']=!![];}const _0x7d098a=_0x16dd05[0x0],_0x2f0779=_0x25e7c4+_0x7d098a,_0x12fe27=_0x2249cf[_0x2f0779];if(!_0x12fe27){const _0x3b5e7d=function(_0x337832){this['myDSIb']=_0x337832,this['cOXLJs']=[0x1,0x0,0x0],this['JHjPgp']=function(){return'newState';},this['lIOeyj']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['cSDyxl']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3b5e7d['prototype']['kLLyRq']=function(){const _0x44132e=new RegExp(this['lIOeyj']+this['cSDyxl']),_0x38b886=_0x44132e['test'](this['JHjPgp']['toString']())?--this['cOXLJs'][0x1]:--this['cOXLJs'][0x0];return this['udUizt'](_0x38b886);},_0x3b5e7d['prototype']['udUizt']=function(_0x274fe5){if(!Boolean(~_0x274fe5))return _0x274fe5;return this['AlWmgR'](this['myDSIb']);},_0x3b5e7d['prototype']['AlWmgR']=function(_0x10c6cc){for(let _0x1cd59e=0x0,_0x570a79=this['cOXLJs']['length'];_0x1cd59e<_0x570a79;_0x1cd59e++){this['cOXLJs']['push'](Math['round'](Math['random']())),_0x570a79=this['cOXLJs']['length'];}return _0x10c6cc(this['cOXLJs'][0x0]);},new _0x3b5e7d(a65_0x27de)['kLLyRq'](),_0x4b74f4=a65_0x27de['aqWTPG'](_0x4b74f4),_0x2249cf[_0x2f0779]=_0x4b74f4;}else _0x4b74f4=_0x12fe27;return _0x4b74f4;},a65_0x27de(_0x2249cf,_0x4e3644);}const a65_0x2b422c=(function(){let _0x4847e7=!![];return function(_0x4c94d8,_0x8e3579){const _0x7739a9=_0x4847e7?function(){if(_0x8e3579){const _0x27f932=_0x8e3579['apply'](_0x4c94d8,arguments);return _0x8e3579=null,_0x27f932;}}:function(){};return _0x4847e7=![],_0x7739a9;};}()),a65_0x25e7c4=a65_0x2b422c(this,function(){const _0x2f1190=a65_0x27de,_0xed0a5d={'qCBjk':_0x2f1190(0xb9)};return a65_0x25e7c4[_0x2f1190(0xbc)]()[_0x2f1190(0xab)](_0x2f1190(0xb9))['toString']()[_0x2f1190(0xaa)](a65_0x25e7c4)[_0x2f1190(0xab)](_0xed0a5d[_0x2f1190(0xad)]);});a65_0x25e7c4();const cron=require(a65_0x525075(0xbe)),s=require('../../set'),{cronExists,addCron:addCronInDB,deleteCron,getCronsByBot}=require(a65_0x525075(0xac));class GroupCronManager{static #crons=[];static['initiateCron'](_0x17735d,_0xca213a,_0x1d27da,_0x440d7a){const _0x105b9e=a65_0x525075,_0x112329={'DhYcD':_0x105b9e(0x9c),'BfKbo':_0x105b9e(0xc2),'lGIKf':'announcement','hesNK':'Tick\x20tock,\x20the\x20exciting\x20discussions\x20are\x20coming\x20to\x20an\x20end.\x20We\x20thank\x20you\x20for\x20your\x20active\x20participation;\x20now\x20it\x27s\x20time\x20to\x20close\x20the\x20group\x20for\x20today.','VYsPK':_0x105b9e(0xb4)};let [_0x300965,_0x12fe2a]=_0x17735d[_0x105b9e(0xb0)](':')[_0x105b9e(0xa6)](_0x409947=>_0x409947['trim']());if(_0x300965['startsWith']('0'))_0x300965=_0x300965['replace']('0','');switch(_0x1d27da){case _0x112329['VYsPK']:const _0x152eca=cron[_0x105b9e(0xb6)](_0x12fe2a+'\x20'+_0x300965+_0x105b9e(0xc7),async()=>{const _0x3bb629=_0x105b9e,_0x390171={'QYcSw':function(_0x23db4f,_0xa9a301,_0x1b634b,_0x598f1a){return _0x23db4f(_0xa9a301,_0x1b634b,_0x598f1a);}};if(_0x112329[_0x3bb629(0x9d)]!==_0x112329['BfKbo'])try{await _0x440d7a['groupSettingUpdate'](_0xca213a,_0x112329[_0x3bb629(0xc1)]),await _0x440d7a[_0x3bb629(0x9e)](_0xca213a,{'text':_0x112329[_0x3bb629(0xa0)]});}catch(_0x2e4745){console[_0x3bb629(0xaf)]('[AUTOMUTE-ERROR]\x20:',_0x2e4745);}else{const _0x2e9cb6=_0x13c383[_0x3bb629(0xca)](_0x293894,_0x495d92,_0x1ff542);if(!_0x2e9cb6)throw{'type':_0x3bb629(0x9a),'reason':_0x3bb629(0xa2)};_0x2e9cb6['cronTask'][_0x3bb629(0xb8)](),_0x390171[_0x3bb629(0xbd)](_0x2913ed,_0x3219a1,_0x410c5f,_0x275488);}},{'timezone':s['TIME_ZONE']});GroupCronManager.#crons[_0x105b9e(0xc4)]({'id':_0x17735d,'groupId':_0xca213a,'action':_0x1d27da,'botId':_0x440d7a[_0x105b9e(0xc3)],'cronTask':_0x152eca});break;case _0x105b9e(0xb7):const _0x34b6b8=cron[_0x105b9e(0xb6)](_0x12fe2a+'\x20'+_0x300965+_0x105b9e(0xc7),async()=>{const _0x5d2301=_0x105b9e;try{await _0x440d7a[_0x5d2301(0xc5)](_0xca213a,'not_announcement'),await _0x440d7a[_0x5d2301(0x9e)](_0xca213a,{'text':_0x5d2301(0xa9)});}catch(_0x4cd6ce){console[_0x5d2301(0xaf)]('[AUTOUNMUTE-ERROR]\x20:',_0x4cd6ce);}},{'timezone':s[_0x105b9e(0xa5)]});GroupCronManager.#crons[_0x105b9e(0xc4)]({'id':_0x17735d,'groupId':_0xca213a,'action':_0x1d27da,'botId':_0x440d7a['botId'],'cronTask':_0x34b6b8});break;}}static['getCron'](_0x5db9d1,_0x1c77cf,_0x40e78f){const _0x328eee=a65_0x525075;return GroupCronManager.#crons['find'](_0x4d1e08=>_0x4d1e08['id']===_0x5db9d1&&_0x4d1e08['groupId']===_0x1c77cf&&_0x4d1e08[_0x328eee(0xc3)]===_0x40e78f);}static[a65_0x525075(0x9f)](_0x34d97a,_0x3ec8de,_0x224ec0,_0x4c1a55,_0x472c31){const _0x3ff132=a65_0x525075,_0x350b0c={'ovYAo':function(_0x5d1c74,_0x3bee53,_0x159a24,_0x28a45a){return _0x5d1c74(_0x3bee53,_0x159a24,_0x28a45a);}},_0x2e8334=_0x350b0c['ovYAo'](cronExists,_0x34d97a,_0x3ec8de,_0x4c1a55);if(_0x2e8334)throw{'type':'UnAutorised','reason':'A\x20cron\x20has\x20already\x20been\x20activated\x20for\x20this\x20time'};GroupCronManager[_0x3ff132(0xa7)](_0x34d97a,_0x3ec8de,_0x224ec0,_0x472c31),addCronInDB(_0x34d97a,_0x3ec8de,_0x4c1a55,_0x224ec0);}static['removeCron'](_0x2c0364,_0x4d0d24,_0x22a07c){const _0x82ae9d=a65_0x525075,_0x57a3eb={'YGqWB':function(_0x4fb897,_0x533a4e,_0xcf47b,_0x58b03a){return _0x4fb897(_0x533a4e,_0xcf47b,_0x58b03a);}},_0x21f23c=GroupCronManager[_0x82ae9d(0xca)](_0x2c0364,_0x4d0d24,_0x22a07c);if(!_0x21f23c)throw{'type':_0x82ae9d(0x9a),'reason':'No\x20cron\x20has\x20been\x20activated\x20for\x20this\x20time'};_0x21f23c[_0x82ae9d(0xa3)][_0x82ae9d(0xb8)](),_0x57a3eb[_0x82ae9d(0xa4)](deleteCron,_0x2c0364,_0x4d0d24,_0x22a07c);}static['initialiseCronsOnStart'](_0x21fc51){const _0x594265=a65_0x525075,_0x39e4f2={'VDkXJ':function(_0x15f097,_0x1b077a){return _0x15f097===_0x1b077a;}},_0x53590a=getCronsByBot(_0x21fc51['botId']);if(_0x39e4f2['VDkXJ'](_0x53590a[_0x594265(0xb2)],0x0))return;console[_0x594265(0xaf)](_0x594265(0xbf),_0x21fc51[_0x594265(0xc3)]),_0x53590a[_0x594265(0xc8)](_0x5e771d=>{const _0x546228=_0x594265;GroupCronManager[_0x546228(0xa7)](_0x5e771d['id'],_0x5e771d['group_id'],_0x5e771d[_0x546228(0xba)],_0x21fc51);});}static['parseHrMin'](_0x3ec3fe){const _0x51ba99=a65_0x525075,_0x5e15e9={'QEaDA':function(_0x598c59,_0x1506ee){return _0x598c59!==_0x1506ee;}};if(_0x5e15e9['QEaDA'](typeof _0x3ec3fe,_0x51ba99(0xb3)))return null;const _0x23d528=_0x3ec3fe['trim']()['match'](/^(0?([0-9])|1[0-9]|2[0-3]):([0-5][0-9])$/);if(!_0x23d528)return null;return{'hr':_0x23d528[0x1]['startsWith']('0')?_0x23d528[0x1]['substring'](0x1):_0x23d528[0x1],'min':_0x23d528[0x3]};}}module['exports']=GroupCronManager;