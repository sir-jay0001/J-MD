'use strict';const _0x78c1c3=_0x2efb,_0x3784ff=_0x1187;(function(_0x21240a,_0x154a60){const _0x1e099a=_0x2efb,_0x2ad3a3=_0x1187,_0x58b91f=_0x21240a();while(!![]){try{const _0x537545=parseInt(_0x2ad3a3('0x364'))/0x1*(-parseInt(_0x2ad3a3('0x202'))/0x2)+-parseInt(_0x1e099a('0x250'))/0x3+-parseInt(_0x1e099a('0x194'))/0x4*(parseInt(_0x1e099a('0x352'))/0x5)+parseInt(_0x1e099a('0x2c5'))/0x6+-parseInt(_0x1e099a('0x1f5'))/0x7*(-parseInt(_0x1e099a('0x219'))/0x8)+-parseInt(_0x2ad3a3('0x178'))/0x9*(-parseInt(_0x1e099a('0x1e8'))/0xa)+parseInt(_0x2ad3a3('0x1d8'))/0xb;if(_0x537545===_0x154a60)break;else _0x58b91f['push'](_0x58b91f['shift']());}catch(_0x2fedb7){_0x58b91f['push'](_0x58b91f['shift']());}}}(_0x173b,0x657f0));var __createBinding=this&&this['__createBinding']||(Object[_0x3784ff('0x36f')]?function(_0x2d5ff1,_0x4f7209,_0x4e23d8,_0x5ac9ad){const _0x4903b0=_0x2efb,_0x12cd17=_0x3784ff;if(_0x5ac9ad===undefined)_0x5ac9ad=_0x4e23d8;var _0x162bc6=Object[_0x12cd17('0x324')](_0x4f7209,_0x4e23d8);(!_0x162bc6||(_0x4903b0('0x323')in _0x162bc6?!_0x4f7209[_0x12cd17('0x29b')]:_0x162bc6[_0x4903b0('0x35f')]||_0x162bc6[_0x12cd17('0x2d0')]))&&(_0x162bc6={'enumerable':!![],'get':function(){return _0x4f7209[_0x4e23d8];}}),Object['defineProperty'](_0x2d5ff1,_0x5ac9ad,_0x162bc6);}:function(_0x5995fa,_0x64dc2d,_0x27e810,_0x538063){if(_0x538063===undefined)_0x538063=_0x27e810;_0x5995fa[_0x538063]=_0x64dc2d[_0x27e810];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[_0x3784ff('0x36f')]?function(_0x2e232e,_0x3ec511){const _0xd02560=_0x2efb,_0xe68409=_0x3784ff;Object[_0xe68409('0x256')](_0x2e232e,_0xd02560('0x242'),{'enumerable':!![],'value':_0x3ec511});}:function(_0x2a105a,_0x14e400){const _0x23c82e=_0x3784ff;_0x2a105a[_0x23c82e('0x246')]=_0x14e400;}),__importStar=this&&this[_0x78c1c3('0x32c')]||function(_0x35024f){const _0x4cbd3f=_0x78c1c3,_0x124ae0=_0x3784ff;if(_0x35024f&&_0x35024f[_0x124ae0('0x29b')])return _0x35024f;var _0x371065={};if(_0x35024f!=null){for(var _0x30692d in _0x35024f)if(_0x30692d!==_0x4cbd3f('0x242')&&Object['prototype'][_0x124ae0('0x1b4')][_0x4cbd3f('0x2c8')](_0x35024f,_0x30692d))__createBinding(_0x371065,_0x35024f,_0x30692d);}return __setModuleDefault(_0x371065,_0x35024f),_0x371065;},__importDefault=this&&this[_0x3784ff('0x1d4')]||function(_0x1b8046){return _0x1b8046&&_0x1b8046['__esModule']?_0x1b8046:{'default':_0x1b8046};};function _0x1187(_0x5138b1,_0x5b50e9){const _0x173b73=_0x173b();return _0x1187=function(_0x2efb43,_0x111127){_0x2efb43=_0x2efb43-0x173;let _0x490067=_0x173b73[_0x2efb43];if(_0x1187['HzQnaL']===undefined){var _0x356e63=function(_0x1187c6){const _0x408174='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x54ede5='',_0x482a77='';for(let _0x249810=0x0,_0x59350b,_0x2a68b2,_0x2d5ff1=0x0;_0x2a68b2=_0x1187c6['charAt'](_0x2d5ff1++);~_0x2a68b2&&(_0x59350b=_0x249810%0x4?_0x59350b*0x40+_0x2a68b2:_0x2a68b2,_0x249810++%0x4)?_0x54ede5+=String['fromCharCode'](0xff&_0x59350b>>(-0x2*_0x249810&0x6)):0x0){_0x2a68b2=_0x408174['indexOf'](_0x2a68b2);}for(let _0x4f7209=0x0,_0x4e23d8=_0x54ede5['length'];_0x4f7209<_0x4e23d8;_0x4f7209++){_0x482a77+='%'+('00'+_0x54ede5['charCodeAt'](_0x4f7209)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x482a77);};_0x1187['SeeMsP']=_0x356e63,_0x5138b1=arguments,_0x1187['HzQnaL']=!![];}const _0x45cf38=_0x173b73[0x0],_0x4a8dcb=_0x2efb43+_0x45cf38,_0x5a6117=_0x5138b1[_0x4a8dcb];return!_0x5a6117?(_0x490067=_0x1187['SeeMsP'](_0x490067),_0x5138b1[_0x4a8dcb]=_0x490067):_0x490067=_0x5a6117,_0x490067;},_0x1187(_0x5138b1,_0x5b50e9);}Object[_0x78c1c3('0x371')](exports,_0x78c1c3('0x35a'),{'value':!![]});const baileys_1=__importStar(require('@whiskeysockets/baileys')),logger_1=__importDefault(require('@whiskeysockets/baileys/lib/Utils/logger')),logger=logger_1[_0x3784ff('0x246')]['child']({});logger[_0x3784ff('0x338')]=_0x78c1c3('0x361');const pino=require(_0x78c1c3('0x272')),boom_1=require(_0x3784ff('0x195')),conf=require(_0x78c1c3('0x1f8')),axios=require('axios');let fs=require(_0x78c1c3('0x22f')),path=require(_0x3784ff('0x35c'));const FileType=require('file-type'),{Sticker,createSticker,StickerTypes}=require('wa-sticker-formatter'),{verifierEtatJid,recupererActionJid}=require('./bdd/antilien'),{atbverifierEtatJid,atbrecupererActionJid}=require('./bdd/antibot');let evt=require(__dirname+_0x3784ff('0x2d7'));const {isUserBanned,addUserToBanList,removeUserFromBanList}=require(_0x78c1c3('0x29c')),{addGroupToBanList,isGroupBanned,removeGroupFromBanList}=require(_0x78c1c3('0x187')),{isGroupOnlyAdmin,addGroupToOnlyAdminList,removeGroupFromOnlyAdminList}=require(_0x3784ff('0x319'));let {reagir}=require(__dirname+_0x3784ff('0x28f'));var session=conf[_0x3784ff('0x231')][_0x78c1c3('0x277')](/Zokou-MD-WHATSAPP-BOT;;;=>/g,'');const prefixe=conf['PREFIXE'],more=String[_0x3784ff('0x1af')](0x200e),readmore=more['repeat'](0xfa1),express=require(_0x78c1c3('0x2ee')),app=express(),PORT=process[_0x78c1c3('0x1e7')][_0x3784ff('0x217')]||0xbb8;app[_0x3784ff('0x254')](express['static'](path['join'](__dirname,_0x3784ff('0x320')))),app[_0x78c1c3('0x2a9')](PORT,()=>{const _0x200b00=_0x3784ff,_0x199f9b=_0x78c1c3;console[_0x199f9b('0x332')](_0x200b00('0x2fc')+PORT);});async function authentification(){const _0x593654=_0x3784ff,_0x290894=_0x78c1c3;try{if(!fs[_0x290894('0x1c2')](__dirname+_0x290894('0x2c1')))console[_0x290894('0x332')](_0x290894('0x340')),await fs[_0x290894('0x299')](__dirname+_0x290894('0x2c1'),atob(session),_0x290894('0x24b'));else fs['existsSync'](__dirname+'/scan/creds.json')&&session!=_0x593654('0x18d')&&await fs[_0x290894('0x299')](__dirname+_0x290894('0x2c1'),atob(session),_0x593654('0x28b'));}catch(_0x8f3b35){console['log'](_0x593654('0x36e')+_0x8f3b35);return;}}authentification();function _0x173b(){const _0x7cecde=['C2HPzNq','cGRWN5A877Ipia','qwzYAwnHl05HAxjVyMK','toLocaleLowerCase','rMfPBgvKihrVihnLBMqGCMvHy3rPB246','./bdd/cron','y29UBMv4Aw9UihldQxbSywpdQwuGlcWSihvUzsbZzxnZC2LVBIbLC3qGzmoPASoGig91DMvYDguGDMv1AwXSzxOGBgeGzMvYBwvYihn2CcaHise','fromMe','\x20]\x0a║─────────────────────\x0a║\x20ᴍᴏᴅᴇ:\x20','🕷️','\x20could\x20not\x20be\x20installed\x20due\x20to\x20:\x20','8j+pNU+4JW','8j+rR+kaJEkzGo+4JW','DxrMoa','EwvZ','🖥️','BxnN','l2zYyw1LD29YAY9HCha','mentionedJid','Aw5JBhvKzxm','mention\x20pas\x20actifs','🏃‍♀️','🚶‍♀️','8j+wVo+4JW','DMLKzw9nzxnZywDL','8j+pI++4J+kaJEkzGU+4JW','igfUzcba','writeFileSync','quotedMessage','x19LC01VzhvSzq','./bdd/banUser','downloadAndSaveMediaMessage','Dw5JyxvNAhrfEgnLChrPB24','WARN_COUNT','4PwT4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psb4OQ3cG','🛳️','random','DhLWzq','8j+pI++4J+kaJEkzGo+4JW','caption','yMLUza','🛰️','8j+BO++4JW','listen','https://raw.githubusercontent.com/djalega8000/Zokou-MD/main/media/remover.gif','cUkvKEkvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKaRILzeG8j+vKIbuAw1LoIa','8j+mPE+4JW','/bmbtech/','lI9IzgqVD2vSy29Tzq','BM93','🗂️','🎖️','tLvnrvjpx09xtKvs','AUTO_READ','l2jTyNrLy2G','u2vZC2LVBIbPzcbLCNjVCIWGCMvZy2fUigfNywLUlI4U','👩‍👧‍👦','conversation','antidemote','Zoou-Md','zgvSyxK','cGRWN5oDicPnzxnZywDLoIOG','key','rejectCall','🛩️','🐕‍🦺','mimetype','/scan/creds.json','format','cUkvKEkvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKaRILzhHTixHTidHTjVHTiCGYPZHTiCG4Bsk4BspYARjTog0H+g0Hsa','AMLKrgvJB2rL','1635984VFDinz','\x20Installed\x20Successfully✔️','B3DUzxi','call','y2fWDgLVBG','CgfYDgLJAxbHBNq','C2vUzfbYzxnLBMnLvxbKyxrL','8j+wJE+4JW','8j+wJo+4JW','mtiWmZyZmtu4nZaXmZm3ota0qgCUDxm','open','y29UzMLNDxjHyMXL','makeInMemoryStore','AgfZ','messages.upsert','\x20removed\x20from\x20group.','remove','groupSettingUpdate','l2zYyw1LD29YAY96B2TVDq','🏃‍♂️','Loading\x20bmb\x20tech\x20Commands\x20...\x0a','Bmw-Md','ChjVBw90zq','Successfully\x20reacted\x20with\x20\x27','ChatJid\x20must\x20be\x20a\x20string','participants','group_id','ms4WlJa','Throttling\x20reactions\x20to\x20prevent\x20overflow.','BwvZC2fNzxmUDxbZzxj0','Filter\x20must\x20be\x20a\x20function','available','💁‍♀️','BgvUz3rO','🙋‍♂️','tu9erq','C2v0','\x0a\x0a🎬\x20','subject','8j+ATokaJEkzGo+4JW','zw4Tr0i','express','C2LUz2XLu2vSzwn0uMvWBhK','DgLTzw91Da','remoteJid','C3rHDhvZqgjYB2fKy2fZDa','👩‍👧','CMvZB2X2zq','jYb0BYbTzxnZywDLigj5ia','CMvTB3rLsMLK','Dw5SAw5R','Je\x20ne\x20reagis\x20pas\x20au\x20reactions','8j+rI/cFJ7S','4PwW4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psa4Psb4OQ3','audioMessage','u2vYDMvYigLZihj1BM5PBMCGyxqGAhr0CdOVl2XVy2fSAg9ZDdO','Africa/Nairobi','./bdd/sudo','creds.update','8j+mQo+4JW','cUkvKEkvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKaRILzeG8j+tHsbeyxrLoIa','filter','ue1FuevstuLu','✅\x20Goodbye\x20message\x20sent.','endsWith','8j+zH+kaJEkzGU+4JW','zgvZyW','awaitForMessage','connectionReplaced','slice','mtbcsxjft3y','vcf','yxvKAw9nzxnZywDL','8j+rR+kaJEkzGU+4JW','y2HHDhm','y29UDgfJDhm','8j+rQokaJFcFKANIGi3WN5gN','⛹️‍♂️','./bdd/mention','text','Bxr5Cgu','Dgv4Da','floor','🏜️','lI9IzgqVB25SEufKBwLU','zMXVB3i','8j+rQEkaJEkDPo+4J+kaJFcFKAK','\x20Avoid\x20sending\x20link.','./bdd/level','qhmUD2HHDhnHChaUBMv0','close','ChvIBgLJ','8j+BJ++4JW','buttonsResponseMessage','get','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','url','🕊️','qvvut19srufdvf9tvefuvvm','y29UDgv4DeLUzM8','yes','z3jVDxbZlNvWzgf0zq','function','__importStar','u3vJy2vZC2z1BgX5ihjLywn0zwqGD2L0AcaN','qKffuW','🤸‍♀️','4P2miefUDgKTChjVBw90Aw9UigfJDgLVBIbLEgvJDxrLzc4','recording','log','@g.us','zxjYB3i','DisconnectReason','\x0a╭─────────────────────────━⊷\x0a║ɢᴏᴏᴅʙʏᴇ👋\x20@','t1DorvjFtKfnrq','Bgv2zwW','ANTICALL','tgLUAYbKzxrLy3rLzcaSihLVDxiGD2fYBL9JB3vUDcb3yxmGDxbNCMfKzsa7cIbYzxn0idOG','8j+sGEkaJEkzGo+4JW','z2v0q29UDgvUDfr5Cgu','ChjVzMLSzvbPy3r1CMvvCMW','message','vgLTzw91DcbTDxn0igjLigeGBNvTyMvY','connexion\x20en\x20cour\x20...','8j+pHokaJEkzGo+4JW','test','groupParticipantsUpdate','z3jVDxbqyxj0AwnPCgfUDhnvCgrHDgu','zxrHyMXPC3nLBwvUDcbKj3vUigf1Dg91BM11DguGCg91CIa','audio','node-cron','🤷‍♀️','downloadContentFromMessage','connecting','y2HPBgrFChjVy2vZCW','u3vWzxjvC2vYigrLDgvJDgvKlcbUBYbHy3rPB24GDgfRzw4U','toLowerCase','ls0Tls0Tls0Tls0Tls0Tls0TlY0Tls0T','welcome','C3rVCMu','z3jVDxbtzxr0Aw5NvxbKyxrL','5kxdcbA','🛣️','imageMessage','C3bSAxq','FULL','lI9TzwrPys9JAhjVBM8UD2vICa','Bg9N','8j+wPE+4JW','__esModule','C2vUzgvY','Cgf0Aa','🚫\x20@','🕸️','writable','Dg9gAwXL','silent','r3jVDxa','8j+zI+kaJEkzGU+4JW','mty0mdi0C1zbwMjW','BAE5','CMvHy3rPB24','z3jVDxaTCgfYDgLJAxbHBNrZlNvWzgf0zq','A2v5','BwvZC2fNzunVBNrLEhrjBMzV','contacts','🌧️','8j+pJo+4J+kaJEkzGU+4JW','sticker','u2vZC2LVBIbjBNzHBgLKia','y3jLyxrL','CY53Agf0C2fWCc5Uzxq','defineProperty','connectionLost','🖼️','image','🏟️','qgCUDxm','sendMessage','message\x20delete\x20\x0a\x20@','/scan','undefined','y29UBMvJDgLVBI51CgrHDgu','DxnLtxvSDgLgAwXLqxv0Afn0yxrL','8j+mQU+4JW','zg93BMXVywrbBMrtyxzLtwvKAwfnzxnZywDL','mZm1ndi3m0reCLjqvq','Dw53yxrJAezPBgu','Bg9Hze1LC3nHz2u','🧑‍💻','ywn0Aw9U','yM1IihrLy2GGAxmGt25SAw5LipcFLBGkcG','stickerMessage','mise\x20à\x20jour\x20','badSession','Timeout','❌\x20Error\x20handling\x20group\x20participants\x20update:','C2vUze1LC3nHz2u','y2HHDePPza','C3rHDhvZ','link\x20detected\x20,\x20you\x20will\x20be\x20remove\x20because\x20of\x20reaching\x20warn-limit','./bdd/banGroup','trim','DxnLCG','🏋️‍♂️','admin','You\x20are\x20banned\x20from\x20bot\x20commands','EM9RAW','fetchLatestBaileysVersion','zgvSzxrL','.js','8j+MUokaJEkzGU+4JW','4P2mievYCM9YigHHBMrSAw5NigrLBgv0zwqGBwvZC2fNztO','💁‍♂️','3088244kkKDdV','qgHHCgKVyM9VBq','🏞️','👯‍♂️','message\x20envoyé\x20par\x20:\x20','Bxv0zv9HDa','8j+rQokaJEkDPo+4J+kaJFcFKAG','8j+zI+kaJEkzGo+4JW','server','cUkvSokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGokuGEkkTW','toBuffer','Dg9mB2nHBgvmB3DLCKnHC2u','je\x20fais\x20rien','schedule','\x0a🔊\x20Deleted\x20Voice','🎞️','🚶‍♂️','message\x20provenant\x20du\x20groupe\x20:\x20','Aw1Hz2u','ANTIDELETE1','🛎️','from','🍽️','string','B2zM','type\x20de\x20message\x20:\x20','toFile','zNjVBunOyxjdB2rL','8j+pLE+4JW','user','zxH0zw5KzwruzxH0twvZC2fNzq','lI4UlIa','AgfZt3DUuhjVCgvYDhK','sgvSBg8SigL0j3mGDgLTzsb0BYbJBg9Zzsb0AguGz3jVDxa7ihnHEw9UyxjHlG','mtype','Ahr0Chm6lY8','./bdd/warn','cUkvKEkvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKokvKaRILzhHTjVkNog0HYdHTjVjQUg0JEg0HYdkNog0HYdkN+g0H9kt4BsBia','push','\x20*\x20*\x20*','BM90x2fUBM91BMnLBwvUDa','author','zNjVBu1L','🙇‍♂️','8j+BPE+4JW','B2jQzwn0','existsSync','now','chatJid','ihjLBw92zwqGzNjVBsbNCM91Cc4','connectionClosed','redémarrage\x20en\x20cours\x20▶️','BwvUDgLVBMvKsMLK','y29Uy2f0','loggedOut','zgvTB3rL','8j+pI++4JW','keys','🌬️','CMvTB3zL','🏕️','C3rHCNrZv2L0Aa','iZaWmdaWma','BM9Tq29T','x19PBxbVCNrezwzHDwX0','split','z3jVDxbnzxrHzgf0yq','BgLLBIbKzxrLy3rLzcWGcG','otKYntaWm3LNAMv5Bq','MODE','unavailable','includes','AUTO_DOWNLOAD_STATUS','catch','https://files.catbox.moe/f9jxiv.jpg','8j+oLU+4JW','===========\x20written\x20message===========','rgLZy29UBMvJDfjLyxnVBG','z3jVDxbFAwq','🖋️','CMvHzezPBgvtEw5J','8j+mPo+4JW','singleSelectReply','env','10BIrEOv','\x20:\x20','8j+pJo+4J+kaJEkzGo+4JW','st1.webp','igHHDMuGyMvLBIbYzw1VDMvKigzYB20GywrTAw5PC3rYyxrPDMuGCMLNAhrZlG','fromBuffer','CMvHzgrPCLn5BMm','makeCacheableSignalKeyStore','msg','8j+wSE+4JW','AUTO_REACT\x20is\x20enabled.\x20Listening\x20for\x20regular\x20messages...','map','wM9VDs1nza','2115722PBmvkL','audio/mp4','mI1KAwDPDa','./set','zxH0BMfTzq','3354273DDrRPU','DxjS','.\x20Consequently,\x20he\x20has\x20been\x20stripped\x20of\x20administrative\x20rights.','8j+rQokaJFcFJ6S','BwvZC2fNzq','private','Aw1Hz2vnzxnZywDL','iseHignVBM5LEgLVBIbMzxjTW6LLlcbYzwnVBM5LEgLVBIbLBIbJB3vYCYaUlI4','nfv0tMLsra','8j+zH+kaJEkzGo+4JW','connection\x20error\x20😞\x20,,,\x20trying\x20to\x20reconnect...\x20','etablissement\x20d\x27un\x20automute\x20pour\x20','bdd\x20err\x20','8j+KT+kaJEkzGU+4JW','vous\x20êtes\x20déconnecté,,,\x20veuillez\x20rescanner\x20le\x20code\x20qr\x20svp','C2LSzw50','notify','restartRequired','CMfUzg9T','zw5KC1DPDgG','ext','zM9YBwf0','action','🐿️','C3rYAw5N','icOGkIaQ','jYb0BYbZDgf0DxmGDxbKyxrLigj5ia','warn','length','ue9sva','\x09🌍B.M.B-TECH\x20ONLINE🌍','16kEYVfk','🗺️','unhandledRejection','8j+pIUkaJEkzGo+4JW','Good\x20morning;\x20It\x27s\x20time\x20to\x20open\x20the\x20group.','🚴‍♂️','8j+pLU+4JW','error','announcement','🙇‍♀️','mtiZndu','mJu0nZeWnZCYnJy2','🤜🤛','yxv0Ag9Y','chats','Dw5TDxrLx2f0','igHHCYb2Aw9SyxrLzcb0AguGyw50As1Kzw1VDgLVBIbYDwXLigj5ihjLBw92Aw5Niea','participant','------\x20contenu\x20du\x20message\x20------','👩‍❤️‍👨','\x20H\x20','contextInfo','fs-extra','video','C2vZC2LVBG','👋🏻','BwvZC2fNzsbKzwXLDgvKiaOGqa','delete','promote','12345','y29TCg9ZAw5N','\x0a║════════════════════════\x0a║ᴛʜᴇ\x20ᴛɪᴍᴇ\x20ʜᴇ\x20ᴇɴᴛᴇʀᴇᴅ\x20','🙋‍♀️','OWNER_NAME','@s.whatsapp.net','Dg9mB3DLCKnHC2u','yw50AwjVDca','hummm','BM9U','type','👩‍💻','default','y2fSBa','delay','8j+yOFcFMkeG','zgvMyxvSDa','antiien\x20','rLvmta','4PYfifDLBgnVBwuGBwvZC2fNzsbZzw50lG','pushName','utf8','8j+rQokaJFcFKAJIGi3WN5gN4Ocn8j+rPG','off','\x0a║══════════════════════','sgfRDw5Hig1HzwXLEM8GEweGz3jVDxa','1908867VYpIPt','lI9IzgqVD2fYBG','C2XPy2u','y2HPBgq','DxnL','listResponseMessage','zgvMAw5LuhjVCgvYDhK','8j+vUE+4JW','extendedTextMessage','NUMERO_OWNER','bot\x20detected\x20;you\x20will\x20be\x20remove\x20because\x20of\x20reaching\x20warn-limit','8j+qU+kaJEkDHo+4JW','8j+rQEkaJFcFJ6S','CgfYDgLJAxbHBNrZ','igeG','ETAT','videoMessage','C2fMyxjP','zMLSDgvY','CMvHze1LC3nHz2vZ','protocolMessage','Message','igf2B2LKihnLBMrPBMCGBgLUAY4','🏄‍♂️','8j+vTU+4JW','8j+ATUkaJEkzGU+4JW','🌦️','B3v0Chv0','AUTO_READ_STATUS','y29UDMvYC2f0Aw9U','🏊‍♂️','qvvut19srufdvf9tvefuvvmGAxmGzw5HyMXLzc4GtgLZDgvUAw5NigzVCIbZDgf0DxmGDxbKyxrLCY4UlG','cVcFL5hVUi8GrgvSzxrLzcbtDgLJA2vY','🏙️','pino','🏖️','8j+oME+4JW','\x0a║════════════════════════\x0a║ᴊᴏɪɴ\x20ᴛʜᴇ\x20ᴄʜᴀɴɴᴇʟ\x20https://tinyurl.com/2385s6xd\x0a╰───────────────────────────━⊷','assign','replace','mtzRrvLwzMS','4P2mifrOAxmGy29TBwfUzcbVBMX5ihDVCMTZigLUigDYB3vWCY4kcVcFMOaGqI5nlKiTvevdsa','\x0a║════════════════════════\x0a║ᴅᴀᴛᴇ\x20ɪs\x20ᴏᴜᴛ\x20','tgvZignYB25Zig4NB250ihbHCYddQxtdQsbHy3rPDSoPCW','status@broadcast','moment-timezone'];_0x173b=function(){return _0x7cecde;};return _0x173b();}const store=(0x0,baileys_1[_0x78c1c3('0x2d1')])({'logger':pino()[_0x3784ff('0x253')]({'level':'silent','stream':_0x3784ff('0x350')})});function _0x2efb(_0x5138b1,_0x5b50e9){const _0x173b73=_0x173b();return _0x2efb=function(_0x2efb43,_0x111127){_0x2efb43=_0x2efb43-0x173;let _0x490067=_0x173b73[_0x2efb43];return _0x490067;},_0x2efb(_0x5138b1,_0x5b50e9);}setTimeout(()=>{const _0x33ece0=_0x3784ff;async function _0xd645bf(){const _0x14ee8c=_0x1187,_0x20c7c7=_0x2efb,{version:_0x17fac9,isLatest:_0x222858}=await(0x0,baileys_1[_0x20c7c7('0x18e')])(),{state:_0x599c09,saveCreds:_0x5bb93c}=await(0x0,baileys_1[_0x14ee8c('0x175')])(__dirname+_0x20c7c7('0x379')),_0x29eb28={'version':_0x17fac9,'logger':pino({'level':_0x14ee8c('0x209')}),'browser':[_0x20c7c7('0x2da'),_0x14ee8c('0x261'),_0x14ee8c('0x2e0')],'printQRInTerminal':!![],'fireInitQueries':![],'shouldSyncHistoryMessage':!![],'downloadHistory':!![],'syncFullHistory':!![],'generateHighQualityLinkPreview':!![],'markOnlineOnConnect':![],'keepAliveIntervalMs':0x7530,'auth':{'creds':_0x599c09['creds'],'keys':(0x0,baileys_1[_0x20c7c7('0x1ef')])(_0x599c09[_0x20c7c7('0x1cd')],logger)},'getMessage':async _0x348513=>{const _0x240ff3=_0x14ee8c;if(store){const _0x1a46ba=await store[_0x240ff3('0x17a')](_0x348513['remoteJid'],_0x348513['id'],undefined);return _0x1a46ba[_0x240ff3('0x1fe')]||undefined;}return{'conversation':'An\x20Error\x20Occurred,\x20Repeat\x20Command!'};}},_0x15b266=(0x0,baileys_1[_0x20c7c7('0x242')])(_0x29eb28);store[_0x14ee8c('0x2a6')](_0x15b266['ev']);const _0x376559=new Map();function _0x4ee366(_0x5e4453){const _0x3d139e=_0x14ee8c,_0x36fec4=_0x20c7c7,_0x122a3b=Date[_0x36fec4('0x1c3')]();if(!_0x376559['has'](_0x5e4453))return _0x376559[_0x3d139e('0x2e9')](_0x5e4453,_0x122a3b),![];const _0xdabbfd=_0x376559[_0x36fec4('0x323')](_0x5e4453);if(_0x122a3b-_0xdabbfd<0xbb8)return!![];return _0x376559[_0x3d139e('0x2e9')](_0x5e4453,_0x122a3b),![];}const _0x496f34=new Map();async function _0x5ec4b9(_0x1afc6f,_0x123e73){const _0xb34c4e=_0x14ee8c;if(_0x496f34[_0xb34c4e('0x2d2')](_0x123e73))return _0x496f34['get'](_0x123e73);try{const _0x2b1493=await _0x1afc6f[_0xb34c4e('0x1d6')](_0x123e73);return _0x496f34['set'](_0x123e73,_0x2b1493),setTimeout(()=>_0x496f34['delete'](_0x123e73),0xea60),_0x2b1493;}catch(_0x25076d){return _0x25076d['message']['includes']('rate-overlimit')&&await new Promise(_0x5ad952=>setTimeout(_0x5ad952,0x1388)),null;}}process['on'](_0x14ee8c('0x29e'),_0x2cfa1b=>{}),process['on'](_0x20c7c7('0x21b'),_0x55671c=>{}),_0x15b266['ev']['on'](_0x20c7c7('0x2d3'),async _0x45297e=>{const _0x2233b7=_0x20c7c7,_0xc2a0d0=_0x14ee8c,{messages:_0xa80a32}=_0x45297e;if(!_0xa80a32||_0xa80a32[_0xc2a0d0('0x2e6')]===0x0)return;for(const _0x3e0ccc of _0xa80a32){if(!_0x3e0ccc[_0x2233b7('0x33e')])continue;const _0x360bc9=_0x3e0ccc['key'][_0xc2a0d0('0x2f6')];if(_0x4ee366(_0x360bc9))continue;}}),_0x15b266['ev']['on'](_0x14ee8c('0x32a'),async _0x53c801=>{const _0x504f9e=_0x20c7c7;for(const _0x481b3f of _0x53c801){const {id:_0x54fa53}=_0x481b3f;if(!_0x54fa53[_0x504f9e('0x305')](_0x504f9e('0x333')))continue;await _0x5ec4b9(_0x15b266,_0x54fa53);}});const _0x8ffacf=require(_0x20c7c7('0x27d'));_0x15b266['ev']['on'](_0x20c7c7('0x2d3'),async _0xe3d87d=>{const _0x4f5208=_0x14ee8c,_0x5c118c=_0x20c7c7;if(conf[_0x5c118c('0x1a7')]==='yes'){const {messages:_0x292426}=_0xe3d87d,_0xc4f469=_0x292426[0x0];if(!_0xc4f469[_0x4f5208('0x1fe')])return;const _0x1aaf0e=_0xc4f469['key'],_0x3d2df9=_0x1aaf0e[_0x5c118c('0x2f1')];!store[_0x5c118c('0x227')][_0x3d2df9]&&(store[_0x5c118c('0x227')][_0x3d2df9]=[]);store[_0x4f5208('0x30f')][_0x3d2df9][_0x5c118c('0x1ba')](_0xc4f469);if(_0xc4f469['message']['protocolMessage']&&_0xc4f469[_0x5c118c('0x33e')]['protocolMessage'][_0x4f5208('0x2a3')]===0x0){const _0x4de636=_0xc4f469[_0x4f5208('0x1fe'            keys: makeCacheableSignalKeyStore(state.keys, pino({ level: "fatal" }).child({ level: "fatal" })),
        },
        markOnlineOnConnect: true,
        generateHighQualityLinkPreview: true,
        getMessage: async (key) => {
            let jid = jidNormalizedUser(key.remoteJid)
            let msg = await store.loadMessage(jid, key.id)
            return msg?.message || ""
        },
        msgRetryCounterCache,
        defaultQueryTimeoutMs: undefined,
    })

    store.bind(XeonBotInc.ev)

    // Message handling
    XeonBotInc.ev.on('messages.upsert', async chatUpdate => {
        try {
            const mek = chatUpdate.messages[0]
            if (!mek.message) return
            mek.message = (Object.keys(mek.message)[0] === 'ephemeralMessage') ? mek.message.ephemeralMessage.message : mek.message
            if (mek.key && mek.key.remoteJid === 'status@broadcast') {
                await handleStatus(XeonBotInc, chatUpdate);
                return;
            }
            if (!XeonBotInc.public && !mek.key.fromMe && chatUpdate.type === 'notify') return
            if (mek.key.id.startsWith('BAE5') && mek.key.id.length === 16) return
            
            try {
                await handleMessages(XeonBotInc, chatUpdate, true)
            } catch (err) {
                console.error("Error in handleMessages:", err)
                // Only try to send error message if we have a valid chatId
                if (mek.key && mek.key.remoteJid) {
                    await XeonBotInc.sendMessage(mek.key.remoteJid, { 
                        text: '❌ An error occurred while processing your message.',
                        contextInfo: {
                            forwardingScore: 1,
                            isForwarded: false,
                            forwardedNewsletterMessageInfo: {
                                newsletterJid: '@newsletter',
                                newsletterName: '𝐉 𝐌ᴅ',
                                serverMessageId: -1
                            }
                        }
                    }).catch(console.error);
                }
            }
        } catch (err) {
            console.error("Error in messages.upsert:", err)
        }
    })

    // Add these event handlers for better functionality
    XeonBotInc.decodeJid = (jid) => {
        if (!jid) return jid
        if (/:\d+@/gi.test(jid)) {
            let decode = jidDecode(jid) || {}
            return decode.user && decode.server && decode.user + '@' + decode.server || jid
        } else return jid
    }

    XeonBotInc.ev.on('contacts.update', update => {
        for (let contact of update) {
            let id = XeonBotInc.decodeJid(contact.id)
            if (store && store.contacts) store.contacts[id] = { id, name: contact.notify }
        }
    })

    XeonBotInc.getName = (jid, withoutContact = false) => {
        id = XeonBotInc.decodeJid(jid)
        withoutContact = XeonBotInc.withoutContact || withoutContact 
        let v
        if (id.endsWith("@g.us")) return new Promise(async (resolve) => {
            v = store.contacts[id] || {}
            if (!(v.name || v.subject)) v = XeonBotInc.groupMetadata(id) || {}
            resolve(v.name || v.subject || PhoneNumber('+' + id.replace('@s.whatsapp.net', '')).getNumber('international'))
        })
        else v = id === '0@s.whatsapp.net' ? {
            id,
            name: 'WhatsApp'
        } : id === XeonBotInc.decodeJid(XeonBotInc.user.id) ?
            XeonBotInc.user :
            (store.contacts[id] || {})
        return (withoutContact ? '' : v.name) || v.subject || v.verifiedName || PhoneNumber('+' + jid.replace('@s.whatsapp.net', '')).getNumber('international')
    }

    XeonBotInc.public = true

    XeonBotInc.serializeM = (m) => smsg(XeonBotInc, m, store)

    // Handle pairing code
    if (pairingCode && !XeonBotInc.authState.creds.registered) {
        if (useMobile) throw new Error('Cannot use pairing code with mobile api')

        let phoneNumber
        if (!!global.phoneNumber) {
            phoneNumber = global.phoneNumber
        } else {
            phoneNumber = await question(chalk.bgBlack(chalk.greenBright(`Please type your WhatsApp number 😍\nFormat: 2547XXXXX (without + or spaces) : `)))
        }

        // Clean the phone number - remove any non-digit characters
        phoneNumber = phoneNumber.replace(/[^0-9]/g, '')

        // Validate the phone number using awesome-phonenumber
        const pn = require('awesome-phonenumber');
        if (!pn('+' + phoneNumber).isValid()) {
            console.log(chalk.red('Invalid phone number. Please enter your full international number (e.g., 254794597254  for Kenya, etc.) without + or spaces.'));
            process.exit(1);
        }

        setTimeout(async () => {
            try {
                let code = await XeonBotInc.requestPairingCode(phoneNumber)
                code = code?.match(/.{1,4}/g)?.join("-") || code
                console.log(chalk.black(chalk.bgGreen(`Your Pairing Code : `)), chalk.black(chalk.white(code)))
                console.log(chalk.yellow(`\nPlease enter this code in your WhatsApp app:\n1. Open WhatsApp\n2. Go to Settings > Linked Devices\n3. Tap "Link a Device"\n4. Enter the code shown above`))
            } catch (error) {
                console.error('Error requesting pairing code:', error)
                console.log(chalk.red('Failed to get pairing code. Please check your phone number and try again.'))
            }
        }, 3000)
    }

    // Connection handling
    XeonBotInc.ev.on('connection.update', async (s) => {
        const { connection, lastDisconnect } = s
        if (connection == "open") {
            console.log(chalk.magenta(` `))
            console.log(chalk.yellow(`♻️Connected to => ` + JSON.stringify(XeonBotInc.user, null, 2)))
            
            const botNumber = XeonBotInc.user.id.split(':')[0] + '@s.whatsapp.net';
            await XeonBotInc.sendMessage(botNumber, { 
                text: 
                `
┏❐═⭔ *CONNECTED* ⭔═❐
┃⭔ *Bot:* J MD
┃⭔ *Time:* ${new Date().toLocaleString()}
┃⭔ *Status:* Online
┃⭔ *User:* ${botNumber}
┗❐═⭔════════⭔═❐`,
                contextInfo: {
                    forwardingScore: 1,
                    isForwarded: false,
                    forwardedNewsletterMessageInfo: {
                        newsletterJid: '@newsletter',
                        newsletterName: '𝐉 𝐌ᴅ',
                        serverMessageId: -1
                    }
                }
            });

            await delay(1999)
            console.log(chalk.yellow(`\n\n    ${chalk.bold.blue(`[ ${global.botname || 'KNIGHT BOT'} ]`)}\n\n`))
            console.log(chalk.cyan(`< ================================================== >`))
            console.log(chalk.magenta(`\n${global.themeemoji || '•'} YT CHANNEL: TOONLOVE`))
            console.log(chalk.magenta(`${global.themeemoji || '•'} GITHUB: sir-jay0001`))
            console.log(chalk.magenta(`${global.themeemoji || '•'} WA NUMBER: ${owner}`))
            console.log(chalk.magenta(`${global.themeemoji || '•'} CREDIT: SIRJAY`))
            console.log(chalk.green(`${global.themeemoji || '•'} 🤖 Bot Connected Successfully! ✅`))
            console.log(chalk.cyan(`< ================================================== >`))
        }
        if (
            connection === "close" &&
            lastDisconnect &&
            lastDisconnect.error &&
            lastDisconnect.error.output.statusCode != 401
        ) {
            startXeonBotInc()
        }
    })

    XeonBotInc.ev.on('creds.update', saveCreds)
    
    XeonBotInc.ev.on('group-participants.update', async (update) => {
        await handleGroupParticipantUpdate(XeonBotInc, update);
    });

    XeonBotInc.ev.on('messages.upsert', async (m) => {
        if (m.messages[0].key && m.messages[0].key.remoteJid === 'status@broadcast') {
            await handleStatus(XeonBotInc, m);
        }
    });

    XeonBotInc.ev.on('status.update', async (status) => {
        await handleStatus(XeonBotInc, status);
    });

    XeonBotInc.ev.on('messages.reaction', async (status) => {
        await handleStatus(XeonBotInc, status);
    });

    return XeonBotInc
}


// Start the bot with error handling
startXeonBotInc().catch(error => {
    console.error('Fatal error:', error)
    process.exit(1)
})
process.on('uncaughtException', (err) => {
    console.error('Uncaught Exception:', err)
})

process.on('unhandledRejection', (err) => {
    console.error('Unhandled Rejection:', err)
})

let file = require.resolve(__filename)
fs.watchFile(file, () => {
    fs.unwatchFile(file)
    console.log(chalk.redBright(`Update ${__filename}`))
    delete require.cache[file]
    require(file)
})
